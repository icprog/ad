(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/subPages/merchant-detail/merchant-detail"],{8364:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},r=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r})},"9a0c":function(e,t,n){"use strict";n.r(t);var a=n("b323"),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);t["default"]=r.a},"9a66":function(e,t,n){},b323:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n("a34a")),r=n("c360"),i=n("2f62"),o=n("25d2");function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a,r,i,o){try{var c=e[i](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(a,r)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var i=e.apply(t,n);function o(e){u(i,a,r,o,c,"next",e)}function c(e){u(i,a,r,o,c,"throw",e)}o(void 0)})}}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){h(e,t,n[t])})}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){return n.e("components/uni-popup/uni-popup").then(n.bind(null,"09fe"))},f=function(){return n.e("pages/home/subPages/merchant-detail/children/merchant-info").then(n.bind(null,"0ec0"))},p=function(){return n.e("pages/home/subPages/merchant-detail/children/merchant-business").then(n.bind(null,"cc47"))},m=function(){return n.e("pages/home/subPages/merchant-detail/children/merchant-active").then(n.bind(null,"35c6"))},v=function(){return n.e("pages/home/subPages/merchant-detail/children/merchant-service").then(n.bind(null,"1c3b"))},b={name:"",data:function(){return{id:"",token:"",showPopup:!1,text:"",activeId:""}},onLoad:function(t){this.id=t.id,this.token=e.getStorageSync("token"),this._reqGetMerchantDetail(),this._reqGetMerchantGoodds()},onShow:function(){this.$hideTabbarButton()},computed:l({},(0,i.mapState)(["merchant_detail","merchant_goods"])),methods:l({},(0,i.mapActions)(["reqGetMerchantDetail","reqGetMerchantGoodds"]),{_reqGetMerchantDetail:function(){this.reqGetMerchantDetail({sid:this.id,token:this.token})},onMakePhoneCall:function(){e.makePhoneCall({phoneNumber:merchant_detail.mobile})},_reqGetMerchantGoodds:function(){this.reqGetMerchantGoodds({fid:this.id})},onSendMessage:function(){(0,r.dealLogin)()&&e.navigateTo({url:"/pages/mine/subPages/contact-us/contact-us?id="+this.id})},onCollectClick:function(){var e=s(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(t," at pages\\home\\subPages\\merchant-detail\\merchant-detail.vue:86"),(0,r.dealLogin)()){e.next=3;break}return e.abrupt("return");case 3:if(1!=t){e.next=7;break}return e.next=6,(0,o.collectDemand)({sid:this.id,type:2,token:this.token});case 6:n=e.sent;case 7:if(0!=t){e.next=11;break}return e.next=10,(0,o.cancelCollect)({sid:this.id,type:2,token:this.token});case 10:n=e.sent;case 11:2e3==n.code&&this._reqGetMerchantDetail();case 12:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),onToGoodsDetail:function(t){e.navigateTo({url:"/pages/home/subPages/goods-detail/goods-detail?id="+t})},onActiveButtonClick:function(){var t=s(a.default.mark(function t(n){var r,i,c;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(r=n.type,i=n.id,1!==r){t.next=4;break}return e.navigateTo({url:"/pages/home/subPages/merchant-active/merchant-active?id="+i}),t.abrupt("return");case 4:if(2!=r){t.next=9;break}return t.next=7,(0,o.giveLike)({token:e.getStorageSync("token"),mid:i});case 7:c=t.sent,200==c.code&&this._reqGetMerchantDetail();case 9:3==r&&(this.activeId=i,this.showPopup=!0);case 10:case"end":return t.stop()}},t,this)}));function n(e){return t.apply(this,arguments)}return n}(),onConfirmClick:function(){var t=s(a.default.mark(function t(){var n,r=this;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,o.transpondActive)({token:e.getStorageSync("token"),zid:this.activeId,text:this.text});case 2:n=t.sent,200==n.code&&(e.showToast({title:"转发成功"}),setTimeout(function(){r._reqGetMerchantDetail(),r.text="",r.showPopup=!1},1500));case 4:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),onGoToActiveDetail:function(t){e.navigateTo({url:"/pages/home/subPages/merchant-active/merchant-active?id="+t})},togglePopup:function(){this.showPopup=!1}}),components:{merchantInfo:f,merchantBusiness:p,merchantActive:m,merchantService:v,uniPopup:d}};t.default=b}).call(this,n("6e42")["default"])},df6e:function(e,t,n){"use strict";n.r(t);var a=n("8364"),r=n("9a0c");for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);n("ffd3");var o=n("2877"),c=Object(o["a"])(r["default"],a["a"],a["b"],!1,null,"5b1e0998",null);t["default"]=c.exports},ffd3:function(e,t,n){"use strict";var a=n("9a66"),r=n.n(a);r.a}},[["37ea","common/runtime","common/vendor"]]]);