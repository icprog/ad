(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/subPages/merchant-active/merchant-active"],{3779:function(t,e,n){"use strict";n.r(e);var i=n("7174"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);e["default"]=o.a},6132:function(t,e,n){},7174:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=c(n("a34a")),o=n("2f62"),r=n("25d2");function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n,i,o,r,c){try{var u=t[r](c),a=u.value}catch(s){return void n(s)}u.done?e(a):Promise.resolve(a).then(i,o)}function a(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var r=t.apply(e,n);function c(t){u(r,i,o,c,a,"next",t)}function a(t){u(r,i,o,c,a,"throw",t)}c(void 0)})}}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){f(t,e,n[e])})}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(){return n.e("components/uni-popup/uni-popup").then(n.bind(null,"09fe"))},m=function(){return Promise.all([n.e("common/vendor"),n.e("components/active-item")]).then(n.bind(null,"ad41"))},h=function(){return n.e("components/comment-item").then(n.bind(null,"581c"))},p={name:"",data:function(){return{id:"",comment:"",text:"",isFocus:!1,showPopup:!1,commentType:1,hid:""}},onLoad:function(t){this.id=t.id,this._reqGetActiveDetail()},onShow:function(){this.$hideTabbarButton()},computed:s({},(0,o.mapState)(["active_detail"])),methods:s({},(0,o.mapActions)(["reqGetActiveDetail"]),{onReplyComment:function(){var t=a(i.default.mark(function t(e){return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.isFocus=!0,this.hid=e,this.commentType=2;case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onConfirmCommentClick:function(){var e=a(i.default.mark(function e(){var n,o,c,u;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=this,""!=this.comment){e.next=4;break}return t.showToast({title:"请输入评论内容",icon:"none"}),e.abrupt("return");case 4:if(1!=this.commentType){e.next=10;break}return e.next=7,(0,r.commentActive)({token:t.getStorageSync("token"),mid:this.id,text:this.comment});case 7:o=e.sent,this.comment="",200==o.code&&(n._reqGetActiveDetail(),c=t.createSelectorQuery().select(".wrapper"),c.boundingClientRect(function(e){console.log("得到布局位置信息"+JSON.stringify(e)," at pages\\home\\subPages\\merchant-active\\merchant-active.vue:86"),t.pageScrollTo({scrollTop:e.bottom,duration:300})}).exec());case 10:if(2!=this.commentType){e.next=17;break}return e.next=13,(0,r.replyComment)({token:t.getStorageSync("token"),text:this.comment,cid:this.hid,mid:this.id});case 13:u=e.sent,this.commentType=1,this.comment="",2e3==u.code&&n._reqGetActiveDetail();case 17:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),onActiveButtonClick:function(){var e=a(i.default.mark(function e(n){var o,c,u;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o=n.type,c=n.id,1==o&&(this.isFocus=!0),2!=o){e.next=7;break}return e.next=5,(0,r.giveLike)({token:t.getStorageSync("token"),mid:c});case 5:u=e.sent,200==u.code&&this._reqGetActiveDetail();case 7:3==o&&(this.showPopup=!0);case 8:case"end":return e.stop()}},e,this)}));function n(t){return e.apply(this,arguments)}return n}(),onConfirmClick:function(){var e=a(i.default.mark(function e(){var n,o,c=this;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=this,e.next=3,(0,r.transpondActive)({token:t.getStorageSync("token"),text:this.text,zid:this.id});case 3:o=e.sent,200==o.code&&(t.showToast({title:"转发成功"}),setTimeout(function(){c.showPopup=!1,c.text="",n._reqGetActiveDetail()},1500));case 5:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),onBlurEvent:function(){this.isFocus=!1},_reqGetActiveDetail:function(){this.reqGetActiveDetail({token:t.getStorageSync("token"),moving_id:this.id})},togglePopup:function(){this.showPopup=!1}}),components:{merchantActive:m,merchantComment:h,uniPopup:l}};e.default=p}).call(this,n("6e42")["default"])},"76f3":function(t,e,n){"use strict";var i=n("6132"),o=n.n(i);o.a},a43b:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},a5a6:function(t,e,n){"use strict";n.r(e);var i=n("a43b"),o=n("3779");for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);n("76f3");var c=n("2877"),u=Object(c["a"])(o["default"],i["a"],i["b"],!1,null,"3dc1e810",null);e["default"]=u.exports}},[["a5e5","common/runtime","common/vendor"]]]);