(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/subPages/order/order"],{"016c":function(e,t,n){"use strict";n.r(t);var r=n("67ec"),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);t["default"]=o.a},"5a3e":function(e,t,n){"use strict";var r=n("bb42"),o=n.n(r);o.a},"67ec":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("a34a")),o=n("2f62"),i=n("25d2");function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,s,"next",e)}function s(e){u(i,r,o,a,s,"throw",e)}a(void 0)})}}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(){return n.e("components/order-item").then(n.bind(null,"56b6"))},l=function(){return n.e("components/empty").then(n.bind(null,"d923"))},m=function(){return n.e("components/uni-load-more/uni-load-more").then(n.bind(null,"fbdd"))},p={name:"",data:function(){return{orderType:["全部","待付款","待发货","待收货","待评价"],current:0,sort:0,page:1,status:"more"}},onLoad:function(e){e.index&&(this.sort=e.index,this.current=e.index)},onShow:function(){this.$hideTabbarButton(),this._reqGetOrderList()},computed:c({},(0,o.mapState)(["order_list"])),onReachBottom:function(){"noMore"!=this.status&&this._reqGetOrderList()},methods:c({},(0,o.mapActions)(["reqGetOrderList","reqGetUserInfo"]),{_reqGetUserInfo:function(){this.reqGetUserInfo({token:e.getStorageSync("token")})},onOperation:function(){var t=s(r.default.mark(function t(n){var o,a,u,c;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(o=n.type,a=n.item,console.log(o,a," at pages\\mine\\subPages\\order\\order.vue:77"),u=this,"取消订单"==o&&e.showModal({content:"确定要取消订单吗？",success:function(){var t=s(r.default.mark(function t(n){var o;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!n.confirm){t.next=6;break}return t.next=3,(0,i.delOrder)({iid:a.id,token:e.getStorageSync("token")});case 3:o=t.sent,console.log(o," at pages\\mine\\subPages\\order\\order.vue:88"),200==o.code&&(u.page=1,u._reqGetOrderList(),u._reqGetUserInfo());case 6:case"end":return t.stop()}},t,this)}));function n(e){return t.apply(this,arguments)}return n}()}),"联系TA"==o&&e.navigateTo({url:"/pages/mine/subPages/contact-us/contact-us?id="+a.j_user[0].id}),"付款"==o&&e.navigateTo({url:"/pages/mall/subPages/confirm-order/confirm-order?id="+a.j_commodity.id}),"催发货"!=o){t.next=11;break}return t.next=9,(0,i.urgeDelivery)({iid:a.id,token:e.getStorageSync("token")});case 9:c=t.sent,200==c.code&&e.showToast({title:"已催促卖家尽快发货",icon:"none"});case 11:"确认收货"==o&&e.showModal({content:"确保收到货后再执行此操作,确定继续吗？",success:function(){var t=s(r.default.mark(function t(n){var o;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!n.confirm){t.next=6;break}return t.next=3,(0,i.confirmDelivery)({iid:a.id,token:e.getStorageSync("token")});case 3:o=t.sent,console.log(o," at pages\\mine\\subPages\\order\\order.vue:129"),200==o.code&&(u.page=1,u._reqGetOrderList(),u._reqGetUserInfo());case 6:case"end":return t.stop()}},t,this)}));function n(e){return t.apply(this,arguments)}return n}()}),"查看物流"==o&&e.navigateTo({url:"/pages/mine/subPages/order-fllow/order-fllow?id="+a.kuaidi_link.nu+"&com="+a.kuaidi_link.com+"&name="+a.kuaidi_link.coname}),"评价"==o&&e.navigateTo({url:"/pages/mine/subPages/goods-comment/goods-comment?id="+a.j_commodity.id+"&orderId="+a.id}),"申请退款"==o&&e.navigateTo({url:"/pages/mine/subPages/refund/refund?id="+a.id});case 15:case"end":return t.stop()}},t,this)}));function n(e){return t.apply(this,arguments)}return n}(),_reqGetOrderList:function(){this.status="loading",this.reqGetOrderList({token:e.getStorageSync("token"),sort:this.sort,page:this.page,callBack1:this.addPage,callBack2:this.changeStatus})},changeStatus:function(e){this.status=e},addPage:function(){this.page++},onChoseOrderTypeClick:function(e){this.current!=e&&(this.page=1,this.sort=e,this.current=e,this._reqGetOrderList())}}),components:{orderItem:f,uniLoadMore:m,empty:l}};t.default=p}).call(this,n("6e42")["default"])},"87ad":function(e,t,n){"use strict";n.r(t);var r=n("ee6c"),o=n("016c");for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);n("5a3e");var a=n("2877"),u=Object(a["a"])(o["default"],r["a"],r["b"],!1,null,"47cfade0",null);t["default"]=u.exports},bb42:function(e,t,n){},ee6c:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})}},[["9a4e","common/runtime","common/vendor"]]]);