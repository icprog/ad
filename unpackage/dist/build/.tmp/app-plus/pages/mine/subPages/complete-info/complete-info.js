(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/subPages/complete-info/complete-info"],{3954:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o})},"4de1":function(e,t,n){"use strict";n.r(t);var i=n("c225"),o=n.n(i);for(var s in i)"default"!==s&&function(e){n.d(t,e,function(){return i[e]})}(s);t["default"]=o.a},"987f":function(e,t,n){"use strict";var i=n("e46e"),o=n.n(i);o.a},bd68:function(e,t,n){"use strict";n.r(t);var i=n("3954"),o=n("4de1");for(var s in o)"default"!==s&&function(e){n.d(t,e,function(){return o[e]})}(s);n("987f");var r=n("2877"),a=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,"32a82d33",null);t["default"]=a.exports},c225:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("a34a")),o=(a(n("97ca")),n("c360")),s=n("25d2"),r=n("2f62");function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,i,o,s,r){try{var a=e[s](r),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(i,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var s=e.apply(t,n);function r(e){u(s,i,o,r,a,"next",e)}function a(e){u(s,i,o,r,a,"throw",e)}r(void 0)})}}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){f(e,t,n[t])})}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(){return n.e("components/input-cell").then(n.bind(null,"b545"))},d=function(){return Promise.all([n.e("common/vendor"),n.e("components/mpvue-citypicker/mpvueCityPicker")]).then(n.bind(null,"1e12"))},h=function(){return n.e("components/upload").then(n.bind(null,"0318"))},g={name:"",data:function(){return{address:"",latitude:"",longitude:"",type:"",phone:"",desc:"",imgList1:[],baseList1:[],baseList2:[],imgList2:[],baseList3:[],imgList3:[],tags:"",tagsId:[],tagsText:[]}},onLoad:function(e){console.log(e," at pages\\mine\\subPages\\complete-info\\complete-info.vue:71"),this.type=e.type},onShow:function(){var e=this;this.service_tags.forEach(function(t,n){e.tagsId.push(t.id),e.tagsText.push(t.name)}),this.tags=this.tagsText.join(","),console.log(this.tagsId," at pages\\mine\\subPages\\complete-info\\complete-info.vue:80")},computed:l({},(0,r.mapState)(["service_tags"])),methods:l({},(0,r.mapActions)(["reqGetUserInfo"]),{onSubmitClick:function(){var t=c(i.default.mark(function t(){var n,o;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n=this,""!=this.desc){t.next=4;break}return e.showToast({title:"请输入您的简介",icon:"none"}),t.abrupt("return");case 4:if(!(this.baseList3.length<=0)){t.next=7;break}return e.showToast({title:"至少上传一张案例照片",icon:"none"}),t.abrupt("return");case 7:if(""!=this.tags){t.next=10;break}return e.showToast({title:"至少选择一个服务标签",icon:"none"}),t.abrupt("return");case 10:if(o="",1!=this.type){t.next=15;break}return t.next=14,(0,s.designerApprove)({token:e.getStorageSync("token"),images:this.baseList3,intro:this.desc,label:this.tagsId.join(",")});case 14:o=t.sent;case 15:if(2!=this.type){t.next=31;break}if(""!=this.address){t.next=19;break}return e.showToast({title:"请选择公司地址",icon:"none"}),t.abrupt("return");case 19:if(""!=this.phone){t.next=22;break}return e.showToast({title:"请输入服务电话",icon:"none"}),t.abrupt("return");case 22:if(!(this.baseList1.length<=0)){t.next=25;break}return e.showToast({title:"至少上传一张门店照片",icon:"none"}),t.abrupt("return");case 25:if(!(this.baseList2.length<=0)){t.next=28;break}return e.showToast({title:"请上传营业执照",icon:"none"}),t.abrupt("return");case 28:return t.next=30,(0,s.serviceApprove)({address:this.address,phone:this.phone,intro:this.desc,firm_images:this.baseList1.join("|"),business_images:this.baseList2.join("|"),case_images:this.baseList3.join("|"),lable:this.tagsId.join(","),token:e.getStorageSync("token")});case 30:o=t.sent;case 31:2e3==o.code&&(e.showToast({title:"提交成功"}),setTimeout(function(){e.redirectTo({url:"/pages/mine/subPages/approve/approve"}),n.reqGetUserInfo({token:e.getStorageSync("token")})},1500));case 32:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),onAddImgEvent:function(e){var t=this;(0,o.uploadImg)(t["baseList"+e],t["imgList"+e])},onDelImgEvent:function(e,t){var n=this;(0,o.delUploadImg)(n["baseList"+e],n["imgList"+e],t)},onChoseCityClick:function(){var t=this;e.chooseLocation({success:function(e){console.log(e," at pages\\mine\\subPages\\complete-info\\complete-info.vue:187"),t.address=e.address,t.latitude=e.latitude,t.longitude=e.longitude}})},onChoseServiceClick:function(){e.navigateTo({url:"/pages/mine/subPages/service-tag/service-tag"})},onConfirmCityClick:function(e){console.log(e," at pages\\mine\\subPages\\complete-info\\complete-info.vue:200")}}),components:{inputCell:p,mpvueCityPicker:d,upload:h}};t.default=g}).call(this,n("6e42")["default"])},e46e:function(e,t,n){}},[["ec32","common/runtime","common/vendor"]]]);